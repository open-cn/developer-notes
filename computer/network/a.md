## 1



最初设计互联网络时，为了便于寻址以及层次化构造网络，每个IP地址包括两个标识码（ID），即网络ID和主机ID。同一个物理网络上的所有主机都使用同一个网络ID，网络上的一个主机（包括网络上工作站，服务器等）有一个主机ID与其对应。Internet委员会定义了5种IP地址类型以适合不同容量的网络，即A类~E类。其中A、B、C3类由InternetNIC在全球范围内统一分配，D、E类为特殊地址。

类别|最大网络数|IP地址范围|单个网段最大主机数|私有IP地址范围
---|---|---|---|---
A|126($2^7-2$)|1.0.0.1-127.255.255.254|16777214|10.0.0.0-10.255.255.255
B|16384($2^{14}$)|128.0.0.1-191.255.255.254|65534|172.16.0.0-172.31.255.255
C|2097152($2^{21}$)|192.0.0.1-223.255.255.254|254|192.168.0.0-192.168.255.255

A类IP地址是指，在IP地址的四段号码中，第一段号码为网络号码，剩下的三段号码为本地计算机的号码，网络地址二进制的最高位必须是“0”。

网络的标识长度为8位，主机标识的长度为24位，A类网络有126个，每个网络可以容纳主机数达16777214（1600多万）台。

地址范围1.0.0.1到127.255.255.254（二进制表示为：00000001 00000000 00000000 00000001 - 01111111 11111111 11111111 11111110）。最后一个是广播地址。



B类IP地址是指，在IP地址的四段号码中，前两段号码为网络号码，网络地址二进制的最高位必须是“10”。

网络的标识长度为16位，主机标识的长度为16位，B类网络有16384个，每个网络所能容纳的计算机数为65534（6万多）台。

地址范围128.0.0.1-191.255.255.254（二进制表示为：10000000 00000000 00000000 00000001----10111111 11111111 11111111 11111110）。 最后一个是广播地址。



C类IP地址是指，在IP地址的四段号码中，前三段号码为网络号码，剩下的一段号码为本地计算机的号码，网络地址二进制的最高位必须是“110”。

网络的标识长度为24位，主机标识的长度为8位，C类网络有2097152（209万多）个网络。每个网络最多只能包含254台计算机。

地址范围192.0.0.1-223.255.255.254（二进制表示为: 11000000 00000000 00000000 00000001 - 11011111 11111111 11111111 11111110）。



D类IP地址在历史上被叫做多播地址(multicast address)，即组播地址。在以太网中，多播地址命名了一组应该在这个网络中应用接收到一个分组的站点。多播地址二进制的最高位必须是“1110”，范围从224.0.0.0到239.255.255.255。

特殊的网址

每一个字节都为0的地址（“0.0.0.0”）对应于当前主机；
IP地址中的每一个字节都为1的IP地址（“255．255．255．255”）是当前子网的广播地址；
IP地址中凡是以“11110”开头的E类IP地址都保留用于将来和实验使用。
IP地址中不能以十进制“127”作为开头，该类地址中数字127．0．0．1到127．255．255．255用于回路测试
网络ID的第一个6位组也不能全置为“0”，全“0”表示本地网络。

子网

引入子网掩码(NetMask)，从逻辑上把一个大网络划分成一些小网络。子网掩码是由一系列的1和0构成，通过将其同IP地址做“与”运算来指出一个IP地址的网络号是什么。对于传统IP地址分类来说，A类地址的子网掩码是255.0.0.0；B类地址的子网掩码是255.255.0.0；C类地址的子网掩码是255.255.255.0。例如，如果要将一个B类网络166.111.0.0划分为多个C类子网来用的话，只要将其子网掩码设置为255.255.255.0即可，这样166.111.1.1和166.111.2.1就分属于不同的网络了。像这样，通过较长的子网掩码将一个网络划分为多个网络的方法就叫做划分子网(Subnetting)。

超网

超网(Supernetting)是同子网类似的概念，它通过较短的子网掩码将多个小网络合成一个大网络。例如，一个单位分到了8个C类地址：202.120.224.0 ～ 202.120.231.0，只要将其子网掩码设置为255.255.248.0，就能使这些C类网络相通。

无类间路由

无类域间路由(CIDR，Classless Inter-Domain Routing)地址根据网络拓扑来分配，可以将连续的一组网络地址分配给一家公司，并使整组地址作为一个网络地址(比如使用超网技术)，在外部路由表上只有一个路由表项。这样既解决了地址匮乏问题，又解决了路由表膨胀的问题。另外，CIDR还将整个世界分为四个地区，给每个地区分配了一段连续的C类地址，分别是：欧洲(194.0.0.0～195.255.255.255)、北美(198.0.0.0～199.255.255.255)、中南美(200.0.0.0～201.255.255.255)和亚太(202.0.0.0～203.255.255.255)。这样，当一个亚太地区以外的路由器收到前8位为202或203的数据报时，它只需要将其放到通向亚太地区的路由即可，而对后24位的路由则可以在数据报到达亚太地区后再进行处理，这样就大大缓解了路由表膨胀的问题。

IP地址的分配

TCP/IP协议需要针对不同的网络进行不同的设置，且每个节点一般需要一个“IP地址”、一个“子网掩码”、一个“默认网关”。不过，可以通过动态主机配置协议（DHCP），给客户端自动分配一个IP地址，避免了出错，也简化了TCP/IP协议的设置。

IP地址现由因特网名字与号码指派公司ICANN（Internet Corporation for Assigned Names and Numbers）分配。

InterNIC：负责美国及其他地区；
ENIC：负责欧洲地区；
APNIC（Asia Pacific Network Information Center）：我国用户可向APNIC申请（要缴费）

PS：1998年，APNIC的总部从东京搬迁到澳大利亚布里斯班。

负责A类IP地址分配的机构是ENIC
负责北美B类IP地址分配的机构是InterNIC
负责亚太B类IP地址分配的机构是APNIC
















