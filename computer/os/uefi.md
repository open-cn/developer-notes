## UEFI

BIOS 是存储在主板ROM里的一组程序代码，包括：
加电自检程序，用于开机时对硬件的检测。
系统初始化代码，包括硬件设备的初始化、创建 BIOS 中断向量等。
基本的外围 I/O 处理的子程序代码。
CMOS 设置程序

BIOS 程序运行在16位实模式下，实模式下最大的寻址范围是 1MB（实模式）。

UEFI 定义了操作系统和平台固件之间的借口，它是 UEFI Forum 发布的一种标准。

UEFI 提供给操作系统的借口包括启动服务（BS）和运行时服务（RT）以及隐藏在 BS 之后丰富的 Protocol。


启动服务：主要服务对象是操作系统加载器以及其他 UEFI 应用程序和 UEFI 驱动。操作系统加载器通过启动服务逐步取得对整个计算机系统资源的控制。当加载器完全控制计算机软硬件资源后，系统结束启动服务，进入运行时。启动服务主要包括：事件服务、内存管理、Protocol 管理、Protocol 使用类服务、驱动管理、Image 管理、ExitBootServices 服务。


运行时服务：主要服务对象是操作系统、操作系统加载器以及 UEFI 应用和 UEFI 驱动。运行时服务主要包括：时间服务、读写 UEFI 系统变量服务、虚拟内存服务、重启系统服务。



UEFI 的优点：

- 可以使用 C++ 编写，提高开发效率。
- 驱动的模块化设计和软硬件升级的兼容性，每个表、Protocol 都有版本号，易于升级。
- 基于事件的异步操作，提高 CPU 利用率；舍弃中断，仅保留时钟中断。
- 先检测程序和驱动的证书，提高安全性。




